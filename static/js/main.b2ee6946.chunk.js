(this["webpackJsonpprojeto-trybetunes"]=this["webpackJsonpprojeto-trybetunes"]||[]).push([[0],{60:function(t,e,a){},62:function(t,e,a){},64:function(t,e,a){},67:function(t,e,a){},68:function(t,e,a){},76:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){},79:function(t,e,a){},80:function(t,e,a){},81:function(t,e,a){},82:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(28),c=a.n(r),s=(a(60),a(8)),o=a(9),l=a(12),u=a(11),d=a(33),h=a(13),j=a(7),b=a.n(j),m=a(15),p=a(2),f=a(6),O=a(21),v=(a(35),a(41)),x=a(14),g="user",k=function(t){return localStorage.setItem(g,JSON.stringify(t))},N=function(t){return function(e){setTimeout((function(){e(t)}),1500)}},C=function(){return new Promise((function(t){var e=JSON.parse(localStorage.getItem(g));null===e&&(e={}),N(e)(t)}))},y=function(t){return new Promise((function(e){k(Object(p.a)(Object(p.a)({},{name:"",email:"",image:"",description:""}),t)),N("OK")(e)}))},S=(a(62),a(1)),I=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(S.jsx)("h1",{className:"title",children:"Carregando..."})}}]),a}(i.a.Component),w=I,L=(a(64),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={nome:"",email:"",photoPerfil:"",fotoPerfil:"",descricao:"",hasHabilit:!0,loading:!1},t.onHeandleChange=t.onHeandleChange.bind(Object(O.a)(t)),t.onClick=t.onClick.bind(Object(O.a)(t)),t}return Object(o.a)(a,[{key:"onHeandleChange",value:function(t){var e=this,a=t.target,n=a.value,i=a.name;console.log(i),this.setState(Object(f.a)({},i,n),(function(){return e.onCountClick()}))}},{key:"onCountClick",value:function(){this.state.nome.length<3?this.setState((function(t){return Object(p.a)(Object(p.a)({},t),{},{hasHabilit:!0})})):this.setState((function(t){return Object(p.a)(Object(p.a)({},t),{},{hasHabilit:!1})}))}},{key:"onClick",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e,a,n,i,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state,a=e.nome,n=e.email,i=e.photoPerfil,r=e.descricao,c=this.props.history,this.setState((function(t){return Object(p.a)(Object(p.a)({},t),{},{loading:!0})})),t.next=5,y({name:a,email:n,image:i,description:r});case 5:c.push("/search");case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.nome,a=t.hasHabilit,n=t.loading,i=t.email,r=t.photoPerfil,c=t.descricao;return Object(S.jsx)("div",{"data-testid":"page-login",className:"CompoentLogin",children:n?Object(S.jsx)(w,{}):Object(S.jsxs)(x.a,{className:"form-login d-grid gap-2",children:[Object(S.jsx)(x.a.Group,{className:"mb-3 ",controlId:"formBasicName",children:Object(S.jsxs)(x.a.Label,{htmlFor:"nome",className:"input-label",children:["Nome:",Object(S.jsx)(x.a.Control,{type:"text",name:"nome",className:"input-control",id:"nome",placeholder:"Nome completo","data-testid":"login-name-input",value:e,onChange:this.onHeandleChange})]})}),Object(S.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:Object(S.jsxs)(x.a.Label,{htmlFor:"email",className:"input-label",children:["Email:",Object(S.jsx)(x.a.Control,{className:"input-control",type:"email",id:"email",name:"email",value:i,placeholder:"exemplo@gmail.com",onChange:this.onHeandleChange})]})}),Object(S.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicPhotoPerfil",children:Object(S.jsxs)(x.a.Label,{htmlFor:"photoPerfil",className:"input-label",children:["Foto Perfil:",Object(S.jsx)(x.a.Control,{className:"input-control",type:"text",id:"photoPerfil",name:"photoPerfil",value:r,placeholder:"https://www.minhafoto.com",onChange:this.onHeandleChange})]})}),Object(S.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicDesc",children:Object(S.jsxs)(x.a.Label,{htmlFor:"descricao",className:"input-label",children:["Descric\xe3o:",Object(S.jsx)(x.a.Control,{className:"input-control",as:"textarea",id:"descricao",name:"descricao",value:c,placeholder:"Ex: qual estilo de m\xfasica voc\xea mais ouve",style:{height:100},onChange:this.onHeandleChange})]})}),Object(S.jsx)(x.a.Group,{className:"d-grid gap-2",controlId:"formBasicButton",children:Object(S.jsx)(v.a,{disabled:a,id:"submit",type:"submit",variant:"primary","data-testid":"login-submit-button",onClick:this.onClick,className:"buttonLogin",size:"lg",children:"ENTRAR"})})]})})}}]),a}(i.a.Component)),F=L,P=a(85),A=a(84),D=(a(67),a(86)),B=(a(68),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(S.jsx)(P.a.Collapse,{id:"responsive-navbar-nav",children:Object(S.jsxs)(D.a,{className:"AllLinks",children:[Object(S.jsx)(d.b,{"data-testid":"link-to-search",className:"navLiks",to:"/search",children:"Search"}),Object(S.jsx)(d.b,{className:"navLiks","data-testid":"link-to-favorites",to:"/favorites",children:"Favorites"}),Object(S.jsx)(d.b,{className:"navLiks","data-testid":"link-to-profile",to:"/profile",children:"Profile"})]})})}}]),a}(i.a.Component)),z=B,R=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={name:"",loading:!0},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:e=t.sent,console.log(e.name),this.setState({loading:!1,name:e.name});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.name,a=t.loading;return Object(S.jsxs)("div",{children:[Object(S.jsx)("header",{"data-testid":"header-component",children:Object(S.jsx)(P.a,{collapseOnSelect:!0,expand:"lg",className:"backgrung-nav",children:Object(S.jsxs)(A.a,{children:[Object(S.jsx)(P.a.Brand,{href:"/",children:"TrybeTunes"}),Object(S.jsx)(P.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(S.jsx)(z,{})]})})}),a?Object(S.jsx)(w,{}):Object(S.jsx)("h1",{className:"titleName","data-testid":"header-user-name",children:e})]})}}]),a}(i.a.Component),U=R,H=function(){var t=Object(m.a)(b.a.mark((function t(e){var a,n,i,r,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=encodeURI(e).replaceAll("%20","+"),n="https://itunes.apple.com/search?entity=album&term=".concat(a,"&attribute=allArtistTerm"),t.next=4,fetch(n);case 4:return i=t.sent,t.next=7,i.json();case 7:return r=t.sent,c=r.results,s=c.map((function(t){return{artistId:t.artistId,artistName:t.artistName,collectionId:t.collectionId,collectionName:t.collectionName,collectionPrice:t.collectionPrice,artworkUrl100:t.artworkUrl100,releaseDate:t.releaseDate,trackCount:t.trackCount}})),t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=H,J=(a(76),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={artist:"",hasDiseble:!0,hasLoading:!1,habilitInput:!1,name:"",albumArtist:[]},t.handleChageInput=t.handleChageInput.bind(Object(O.a)(t)),t.onCountClick=t.onCountClick.bind(Object(O.a)(t)),t.onClickButton=t.onClickButton.bind(Object(O.a)(t)),t}return Object(o.a)(a,[{key:"handleChageInput",value:function(t){var e=this,a=t.target.value;this.setState({artist:a},(function(){return e.onCountClick()}))}},{key:"onCountClick",value:function(){this.state.artist.length<2?this.setState({hasDiseble:!0}):this.setState({hasDiseble:!1})}},{key:"onClickButton",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e,a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.artist,a=e,this.setState({artist:"",name:a,hasLoading:!0}),t.next=5,M(e);case 5:n=t.sent,console.log(n),this.setState({hasLoading:!1,albumArtist:n});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.hasDiseble,a=t.nameArtist,n=t.hasLoading,i=t.habilitInput,r=t.name,c=t.albumArtist;return Object(S.jsxs)("div",{"data-testid":"page-search",children:[Object(S.jsx)(U,{}),Object(S.jsx)("h1",{className:"titleSeach",children:"search"}),n?Object(S.jsx)(w,{}):Object(S.jsxs)("div",{className:"form",children:[Object(S.jsxs)(x.a,{className:"form-login d-grid gap-2 formAll",children:[Object(S.jsx)(x.a.Group,{className:"mb-3 ",controlId:"formBasicName",children:Object(S.jsx)(x.a.Label,{htmlFor:"artistInput",children:Object(S.jsx)(x.a.Control,{className:"input-control","data-testid":"search-artist-input",type:"text",name:"artistInput",value:a,disabled:i,onChange:this.handleChageInput})})}),Object(S.jsx)(v.a,{"data-testid":"search-artist-button",type:"button",disabled:e,onClick:this.onClickButton,size:"lg",className:"buttonPesquisa",children:"Pesquisa"})]}),c.length<=0?Object(S.jsxs)("span",{className:"warning",children:["Nenhum \xe1lbum foi encontrado"," "]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{children:"Resultado de \xe1lbuns de: ".concat(r)}),Object(S.jsx)("div",{className:"container-fotos",children:c.map((function(t,e){return Object(S.jsxs)("ul",{className:"cardsfotos ",children:[Object(S.jsx)("li",{children:Object(S.jsx)("img",{className:"cardImg ",src:t.artworkUrl100,alt:t.artistName})}),Object(S.jsx)("li",{children:t.collectionName}),Object(S.jsx)("li",{children:t.artistName}),Object(S.jsx)("li",{children:Object(S.jsx)(d.b,{className:"btn btn-primary buttonAlbum ","data-testid":"link-to-album-".concat(t.collectionId),to:"/album/".concat(t.collectionId),children:"Album"})})]},e)}))})]})]})]})}}]),a}(i.a.Component)),T=J,E=a(45),G="favorite_songs";JSON.parse(localStorage.getItem(G))||localStorage.setItem(G,JSON.stringify([]));var q=function(){return JSON.parse(localStorage.getItem(G))},K=function(t){return localStorage.setItem(G,JSON.stringify(t))},_=function(t){return function(e){setTimeout((function(){e(t)}),500)}},Q=function(){return new Promise((function(t){var e=q();_(e)(t)}))},V=function(t){return new Promise((function(e){if(t){var a=q();K([].concat(Object(E.a)(a),[t]))}_("OK")(e)}))},W=function(t){return new Promise((function(e){var a=q();K(a.filter((function(e){return e.trackId!==t.trackId}))),_("OK")(e)}))},X=(a(77),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={isFaforite:!1},n.onChangeInput=n.onChangeInput.bind(Object(O.a)(n)),n.addFavoritos=n.addFavoritos.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.favorito&&this.setState({isFaforite:!0})}},{key:"onChangeInput",value:function(t){var e=this,a=t.target.checked;this.setState({isFaforite:a},(function(){return e.addFavoritos()}))}},{key:"addFavoritos",value:function(){var t=Object(m.a)(b.a.mark((function t(e){var a,n,i,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.state.isFaforite,n=this.props,i=n.id,r=n.atualizaSong,c=n.isAlbum,console.log(e),!a){t.next=8;break}return this.setState({isLoading:!0}),t.next=7,V(i);case 7:this.setState({isLoading:!1});case 8:if(a){t.next=16;break}return this.setState({isLoading:!0}),t.next=12,W(i);case 12:if(this.setState({isLoading:!1}),c){t.next=16;break}return t.next=16,r();case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props,e=t.previewUrl,a=t.trackName,n=t.trackId,i=this.state,r=i.isLoading,c=i.isFaforite;return Object(S.jsx)("div",{className:"musicas",children:r?Object(S.jsx)(w,{}):Object(S.jsxs)("div",{className:"musicasAdio",children:[Object(S.jsx)("p",{className:"track-name",children:a}),Object(S.jsxs)("audio",{"data-testid":"audio-component",src:e,preload:"auto",id:"plyaer",controls:!0,children:[Object(S.jsx)("track",{kind:"captions"}),"O seu navegador n\xe3o suporta o elemento",Object(S.jsx)("code",{children:"audio"})]}),Object(S.jsxs)("label",{htmlFor:n,className:"label-check-box",children:["Favorita",Object(S.jsx)("input",{type:"checkbox",id:n,"data-testid":"checkbox-music-".concat(n),className:"check-box chk",checked:c,atualizaSong:this.atualizaSong,onChange:this.onChangeInput})]})]})})}}]),a}(i.a.Component)),Y=X,Z=function(){var t=Object(m.a)(b.a.mark((function t(e){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://itunes.apple.com/lookup?id=".concat(e,"&entity=song"));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n.results);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=Z,tt=(a(78),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={isLoading:!0,listCantor:[],listMusic:[],musicaFav:[]},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e,a,n,i,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match,a=e.params,n=a.id,this.setState({isLoading:!0}),t.next=6,$(n);case 6:return i=t.sent,r=i.filter((function(t){return"song"===t.kind})),t.next=10,Q();case 10:(c=t.sent).length<=0&&(c=[]),console.log(c),this.setState({isLoading:!1,listCantor:i[0],listMusic:r,musicaFav:c});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.isLoading,a=t.listCantor,n=t.listMusic,i=t.musicaFav;return Object(S.jsxs)("div",{"data-testid":"page-album",children:[Object(S.jsx)(U,{}),Object(S.jsx)("h2",{"data-testid":"artist-name",className:"artist-name",children:a.artistName}),Object(S.jsx)("h3",{"data-testid":"album-name",className:"album-name",children:a.collectionName}),Object(S.jsx)("div",{className:"album-cards",children:e?Object(S.jsx)(w,{}):n.map((function(t,e){return Object(S.jsx)(Y,{trackName:t.trackName,previewUrl:t.previewUrl,trackId:t.trackId,id:t,favorito:i.some((function(e){return e.trackId===t.trackId})),isAlbum:!0,atualizaSong:void 0},e)}))})]})}}]),a}(i.a.Component)),et=tt,at=(a(79),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={listFav:[],isLoading:!1},n.atualizaSong=n.atualizaSong.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.atualizaSong();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"atualizaSong",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({isLoading:!0}),t.next=3,Q();case 3:e=t.sent,this.setState({isLoading:!1,listFav:e});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state,a=e.isLoading,n=e.listFav;return Object(S.jsx)("div",{"data-testid":"page-favorites",children:Object(S.jsxs)("div",{children:[Object(S.jsx)(U,{}),Object(S.jsx)("section",{children:a?Object(S.jsx)(w,{}):Object(S.jsx)("div",{className:"CARDS",children:n.map((function(e,a){return Object(S.jsx)(Y,{trackName:e.trackName,previewUrl:e.previewUrl,trackId:e.trackId,id:e,favorito:!0,atualizaSong:t.atualizaSong,isAlbum:!1},a)}))})})]})})}}]),a}(i.a.Component)),nt=at,it=a(53),rt=(a(80),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={isLoading:!0,dataUser:""},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({isLoading:!0}),t.next=3,C();case 3:e=t.sent,this.setState({isLoading:!1,dataUser:e}),console.log(e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.isLoading,a=t.dataUser;return Object(S.jsxs)("div",{"data-testid":"page-profile",children:[Object(S.jsx)(U,{}),Object(S.jsx)("div",{className:"content-profile",children:e?Object(S.jsx)(w,{}):Object(S.jsxs)("div",{className:"card-profile",children:[Object(S.jsx)("h1",{className:"dada-user-name",children:a.name}),Object(S.jsx)("p",{className:"data-user-email",children:a.email}),Object(S.jsx)("div",{className:"data-user-img",children:Object(S.jsx)("img",{src:a.image,alt:a.name,"data-testid":"profile-image",className:"profile-image"})}),Object(S.jsx)("h3",{className:"data-user-description",children:a.description}),Object(S.jsx)(it.Link,{className:"btn btn-primary buttonAlbum ",to:"/profile/edit",children:"Editar perfil"})]})})]})}}]),a}(i.a.Component)),ct=rt,st=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(S.jsxs)("div",{"data-testid":"page-profile-edit",children:[Object(S.jsx)("h1",{children:"profile edit"}),Object(S.jsx)(U,{})]})}}]),a}(i.a.Component),ot=st,lt=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(S.jsx)("div",{"data-testid":"page-not-found",children:Object(S.jsx)("p",{children:"NotFound"})})}}]),a}(i.a.Component),ut=lt,dt=(a(81),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(S.jsx)(d.a,{basename:"/projeto-trybetunes",children:Object(S.jsxs)(h.Switch,{children:[Object(S.jsx)(h.Route,{exact:!0,path:"/",component:F}),Object(S.jsx)(h.Route,{path:"/search",component:T}),Object(S.jsx)(h.Route,{path:"/album/:id",component:et}),Object(S.jsx)(h.Route,{path:"/favorites",component:nt}),Object(S.jsx)(h.Route,{path:"/profile/edit",component:ot}),Object(S.jsx)(h.Route,{path:"/profile",component:ct}),Object(S.jsx)(h.Route,{path:"*",component:ut})]})})}}]),a}(i.a.Component)),ht=dt;c.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(ht,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.b2ee6946.chunk.js.map