{"ast":null,"code":"import _regeneratorRuntime from\"/home/igor/Documentos/ProjetosPessoais/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/igor/Documentos/ProjetosPessoais/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/igor/Documentos/ProjetosPessoais/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/igor/Documentos/ProjetosPessoais/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/igor/Documentos/ProjetosPessoais/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/igor/Documentos/ProjetosPessoais/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/igor/Documentos/ProjetosPessoais/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Link}from'react-router-dom';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import Header from'../../components/Header/Header';import searchAlbumsAPI from'../../services/searchAlbumsAPI';import'bootstrap/dist/css/bootstrap.min.css';import Loading from'../loading/Loading';import'./Seach.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_React$Component){_inherits(Search,_React$Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);_this=_super.call(this);_this.state={artist:'',hasDiseble:true,hasLoading:false,habilitInput:false,name:'',albumArtist:[]};_this.handleChageInput=_this.handleChageInput.bind(_assertThisInitialized(_this));_this.onCountClick=_this.onCountClick.bind(_assertThisInitialized(_this));_this.onClickButton=_this.onClickButton.bind(_assertThisInitialized(_this));return _this;}_createClass(Search,[{key:\"handleChageInput\",value:function handleChageInput(_ref){var _this2=this;var target=_ref.target;var name=target.value;this.setState({artist:name},function(){return _this2.onCountClick();});}},{key:\"onCountClick\",value:function onCountClick(){var artist=this.state.artist;if(artist.length<2){this.setState({hasDiseble:true});}else{this.setState({hasDiseble:false});}}},{key:\"onClickButton\",value:function(){var _onClickButton=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var artist,name,albumList;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:artist=this.state.artist;name=artist;this.setState({artist:'',name:name,hasLoading:true});_context.next=5;return searchAlbumsAPI(artist);case 5:albumList=_context.sent;console.log(albumList);this.setState({hasLoading:false,albumArtist:albumList});case 8:case\"end\":return _context.stop();}}},_callee,this);}));function onClickButton(){return _onClickButton.apply(this,arguments);}return onClickButton;}()},{key:\"render\",value:function render(){var _this$state=this.state,hasDiseble=_this$state.hasDiseble,nameArtist=_this$state.nameArtist,hasLoading=_this$state.hasLoading,habilitInput=_this$state.habilitInput,name=_this$state.name,albumArtist=_this$state.albumArtist;return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"page-search\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"titleSeach\",children:\"search\"}),hasLoading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(Form,{className:\"form-login d-grid gap-2 formAll\",children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3 \",controlId:\"formBasicName\",children:/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"artistInput\",children:/*#__PURE__*/_jsx(Form.Control,{className:\"input-control\",\"data-testid\":\"search-artist-input\",type:\"text\",name:\"artistInput\",value:nameArtist,disabled:habilitInput,onChange:this.handleChageInput})})}),/*#__PURE__*/_jsx(Button,{\"data-testid\":\"search-artist-button\",type:\"button\",disabled:hasDiseble,onClick:this.onClickButton,size:\"lg\",className:\"buttonPesquisa\",children:\"Pesquisa\"})]}),albumArtist.length<=0?/*#__PURE__*/_jsxs(\"span\",{className:\"warning\",children:[\"Nenhum \\xE1lbum foi encontrado\",' ']}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Resultado de \\xE1lbuns de: \".concat(name)}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fotos\",children:albumArtist.map(function(artist,index){return/*#__PURE__*/_jsxs(\"ul\",{className:\"cardsfotos \",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"cardImg \",src:artist.artworkUrl100,alt:artist.artistName})}),/*#__PURE__*/_jsx(\"li\",{children:artist.collectionName}),/*#__PURE__*/_jsx(\"li\",{children:artist.artistName}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary buttonAlbum \",\"data-testid\":\"link-to-album-\".concat(artist.collectionId),to:\"/album/\".concat(artist.collectionId),children:\"Album\"})})]},index);})})]})]})]});}}]);return Search;}(React.Component);export default Search;","map":{"version":3,"sources":["/home/igor/Documentos/ProjetosPessoais/TrybeTunes/src/pages/search/Search.js"],"names":["React","Link","Button","Form","Header","searchAlbumsAPI","Loading","Search","state","artist","hasDiseble","hasLoading","habilitInput","name","albumArtist","handleChageInput","bind","onCountClick","onClickButton","target","value","setState","length","albumList","console","log","nameArtist","map","index","artworkUrl100","artistName","collectionName","collectionId","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Header from '../../components/Header/Header';\nimport searchAlbumsAPI from '../../services/searchAlbumsAPI';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Loading from '../loading/Loading';\nimport './Seach.css';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      artist: '',\n      hasDiseble: true,\n      hasLoading: false,\n      habilitInput: false,\n      name: '',\n      albumArtist: [],\n    };\n    this.handleChageInput = this.handleChageInput.bind(this);\n    this.onCountClick = this.onCountClick.bind(this);\n    this.onClickButton = this.onClickButton.bind(this);\n  }\n\n  handleChageInput({ target }) {\n    const name = target.value;\n\n    this.setState({\n      artist: name,\n    }, () => this.onCountClick());\n  }\n\n  onCountClick() {\n    const { artist } = this.state;\n    if (artist.length < 2) {\n      this.setState({ hasDiseble: true });\n    } else {\n      this.setState({ hasDiseble: false });\n    }\n  }\n\n  async onClickButton() {\n    const { artist } = this.state;\n    const name = artist;\n    this.setState({ artist: '', name, hasLoading: true });\n    const albumList = await searchAlbumsAPI(artist);\n    console.log(albumList);\n    this.setState({ hasLoading: false, albumArtist: albumList });\n  }\n\n  render() {\n    const { hasDiseble,\n      nameArtist, hasLoading, habilitInput,\n      name, albumArtist } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n\n        <Header />\n        <h1 className=\"titleSeach\">search</h1>\n        {hasLoading ? <Loading />\n          : (\n            <div className=\"form\">\n              <Form className=\"form-login d-grid gap-2 formAll\">\n                <Form.Group className=\"mb-3 \" controlId=\"formBasicName\">\n                  <Form.Label htmlFor=\"artistInput\">\n\n                    <Form.Control\n                      className=\"input-control\"\n                      data-testid=\"search-artist-input\"\n                      type=\"text\"\n                      name=\"artistInput\"\n                      value={ nameArtist }\n                      disabled={ habilitInput }\n                      onChange={ this.handleChageInput }\n                    />\n                  </Form.Label>\n                </Form.Group>\n                <Button\n                  data-testid=\"search-artist-button\"\n                  type=\"button\"\n                  disabled={ hasDiseble }\n                  onClick={ this.onClickButton }\n                  size=\"lg\"\n                  className=\"buttonPesquisa\"\n                >\n                  Pesquisa\n                </Button>\n              </Form>\n              {albumArtist.length <= 0\n                ? (\n                  <span\n                    className=\"warning\"\n                  >\n                    Nenhum álbum foi encontrado\n                    {' '}\n                  </span>\n                )\n                : (\n                  <>\n                    <h1>\n                      {`Resultado de álbuns de: ${name}`}\n                    </h1>\n                    <div className=\"container-fotos\">\n\n                      {albumArtist.map((artist, index) => (\n                        <ul className=\"cardsfotos \" key={ index }>\n                          <li>\n                            <img\n                              className=\"cardImg \"\n                              src={ artist.artworkUrl100 }\n                              alt={ artist.artistName }\n                            />\n                          </li>\n\n                          <li>{artist.collectionName}</li>\n                          <li>{artist.artistName}</li>\n                          <li>\n                            <Link\n                              className=\"btn btn-primary buttonAlbum \"\n                              data-testid={ `link-to-album-${artist.collectionId}` }\n                              to={ `/album/${artist.collectionId}` }\n                            >\n                              Album\n                            </Link>\n\n                          </li>\n\n                        </ul>))}\n                    </div>\n\n                  </>)}\n            </div>)}\n      </div>);\n  }\n}\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}