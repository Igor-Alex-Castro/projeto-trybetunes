{"ast":null,"code":"import _regeneratorRuntime from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'bootstrap/dist/css/bootstrap.min.css';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import{createUser}from'../../services/userAPI';import Loading from'../loading/Loading';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.state={nome:'',email:'',photoPerfil:'',fotoPerfil:'',descricao:'',hasHabilit:true,loading:false};_this.onHeandleChange=_this.onHeandleChange.bind(_assertThisInitialized(_this));_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"onHeandleChange\",value:function onHeandleChange(_ref){var _this2=this;var target=_ref.target;var value=target.value,name=target.name;console.log(name);this.setState(_defineProperty({},name,value),function(){return _this2.onCountClick();});}},{key:\"onCountClick\",value:function onCountClick(){var nome=this.state.nome;var MAX=3;if(nome.length<MAX){this.setState(function(prevStation){return _objectSpread(_objectSpread({},prevStation),{},{hasHabilit:true});});}else{this.setState(function(prevStation){return _objectSpread(_objectSpread({},prevStation),{},{hasHabilit:false});});}}},{key:\"onClick\",value:function(){var _onClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state,nome,email,photoPerfil,descricao,history;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=this.state,nome=_this$state.nome,email=_this$state.email,photoPerfil=_this$state.photoPerfil,descricao=_this$state.descricao;history=this.props.history;this.setState(function(prevStation){return _objectSpread(_objectSpread({},prevStation),{},{loading:true});});_context.next=5;return createUser({name:nome,email:email,image:photoPerfil,description:descricao});case 5:history.push('/search');case 6:case\"end\":return _context.stop();}}},_callee,this);}));function onClick(){return _onClick.apply(this,arguments);}return onClick;}()},{key:\"render\",value:function render(){var _this$state2=this.state,nome=_this$state2.nome,hasHabilit=_this$state2.hasHabilit,loading=_this$state2.loading,email=_this$state2.email,photoPerfil=_this$state2.photoPerfil,descricao=_this$state2.descricao;return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"page-login\",className:\"CompoentLogin\",children:!loading?/*#__PURE__*/_jsxs(Form,{className:\"form-login d-grid gap-2\",children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3 \",controlId:\"formBasicName\",children:/*#__PURE__*/_jsxs(Form.Label,{htmlFor:\"nome\",className:\"input-label\",children:[\"Nome:\",/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"nome\",className:\"input-control\",id:\"nome\",placeholder:\"Nome completo\",\"data-testid\":\"login-name-input\",value:nome,onChange:this.onHeandleChange})]})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsxs(Form.Label,{htmlFor:\"email\",className:\"input-label\",children:[\"Email:\",/*#__PURE__*/_jsx(Form.Control,{className:\"input-control\",type:\"email\",id:\"email\",name:\"email\",value:email,placeholder:\"exemplo@gmail.com\",onChange:this.onHeandleChange})]})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicPhotoPerfil\",children:/*#__PURE__*/_jsxs(Form.Label,{htmlFor:\"photoPerfil\",className:\"input-label\",children:[\"Foto Perfil:\",/*#__PURE__*/_jsx(Form.Control,{className:\"input-control\",type:\"text\",id:\"photoPerfil\",name:\"photoPerfil\",value:photoPerfil,placeholder:\"https://www.minhafoto.com\",onChange:this.onHeandleChange})]})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicDesc\",children:/*#__PURE__*/_jsxs(Form.Label,{htmlFor:\"descricao\",className:\"input-label\",children:[\"Descric\\xE3o:\",/*#__PURE__*/_jsx(Form.Control,{className:\"input-control\",as:\"textarea\",id:\"descricao\",name:\"descricao\",value:descricao,placeholder:\"Ex: qual estilo de m\\xFAsica voc\\xEA mais ouve\",style:{height:100},onChange:this.onHeandleChange})]})}),/*#__PURE__*/_jsx(Form.Group,{className:\"d-grid gap-2\",controlId:\"formBasicButton\",children:/*#__PURE__*/_jsx(Button,{disabled:hasHabilit,id:\"submit\",type:\"submit\",variant:\"primary\",\"data-testid\":\"login-submit-button\",onClick:this.onClick,className:\"buttonLogin\",size:\"lg\",children:\"ENTRAR\"})})]}):/*#__PURE__*/_jsx(Loading,{})});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["/home/igor/Documentos/ProjetosPessoais/projeto-trybetunes/src/pages/login/Login.js"],"names":["React","Button","Form","createUser","Loading","Login","state","nome","email","photoPerfil","fotoPerfil","descricao","hasHabilit","loading","onHeandleChange","bind","onClick","target","value","name","console","log","setState","onCountClick","MAX","length","prevStation","history","props","image","description","push","height","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { createUser } from '../../services/userAPI';\nimport Loading from '../loading/Loading';\nimport './Login.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      nome: '',\n      email: '',\n      photoPerfil: '',\n      fotoPerfil: '',\n      descricao: '',\n      hasHabilit: true,\n      loading: false,\n    };\n    this.onHeandleChange = this.onHeandleChange.bind(this);\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onHeandleChange({ target }) {\n    const { value, name } = target;\n    console.log(name);\n    this.setState({\n      [name]: value,\n    }, () => this.onCountClick());\n  }\n\n  onCountClick() {\n    const { nome } = this.state;\n    const MAX = 3;\n    if (nome.length < MAX) {\n      this.setState((prevStation) => ({ ...prevStation, hasHabilit: true }));\n    } else {\n      this.setState((prevStation) => ({ ...prevStation, hasHabilit: false }));\n    }\n  }\n\n  async onClick() {\n    const { nome, email, photoPerfil, descricao } = this.state;\n    const { history } = this.props;\n    this.setState((prevStation) => ({ ...prevStation, loading: true }));\n    await createUser({ name: nome, email, image: photoPerfil, description: descricao });\n    history.push('/search');\n  }\n\n  render() {\n    const { nome, hasHabilit, loading, email, photoPerfil, descricao } = this.state;\n    return (\n\n      <div data-testid=\"page-login\" className=\"CompoentLogin\">\n\n        {!loading ? (\n          <Form className=\"form-login d-grid gap-2\">\n            <Form.Group className=\"mb-3 \" controlId=\"formBasicName\">\n              <Form.Label htmlFor=\"nome\" className=\"input-label\">\n                Nome:\n                <Form.Control\n                  type=\"text\"\n                  name=\"nome\"\n                  className=\"input-control\"\n                  id=\"nome\"\n                  placeholder=\"Nome completo\"\n                  data-testid=\"login-name-input\"\n                  value={ nome }\n                  onChange={ this.onHeandleChange }\n                />\n              </Form.Label>\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n              <Form.Label htmlFor=\"email\" className=\"input-label\">\n                Email:\n                <Form.Control\n                  className=\"input-control\"\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  value={ email }\n                  placeholder=\"exemplo@gmail.com\"\n                  onChange={ this.onHeandleChange }\n                />\n              </Form.Label>\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPhotoPerfil\">\n              <Form.Label htmlFor=\"photoPerfil\" className=\"input-label\">\n                Foto Perfil:\n                <Form.Control\n                  className=\"input-control\"\n                  type=\"text\"\n                  id=\"photoPerfil\"\n                  name=\"photoPerfil\"\n                  value={ photoPerfil }\n                  placeholder=\"https://www.minhafoto.com\"\n                  onChange={ this.onHeandleChange }\n\n                />\n              </Form.Label>\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicDesc\">\n              <Form.Label htmlFor=\"descricao\" className=\"input-label\">\n                Descricão:\n                <Form.Control\n                  className=\"input-control\"\n                  as=\"textarea\"\n                  id=\"descricao\"\n                  name=\"descricao\"\n                  value={ descricao }\n                  placeholder=\"Ex: qual estilo de música você mais ouve\"\n                  style={ { height: 100 } }\n                  onChange={ this.onHeandleChange }\n                />\n              </Form.Label>\n            </Form.Group>\n            <Form.Group className=\"d-grid gap-2\" controlId=\"formBasicButton\">\n              <Button\n                disabled={ hasHabilit }\n                id=\"submit\"\n                type=\"submit\"\n                variant=\"primary\"\n                data-testid=\"login-submit-button\"\n                onClick={ this.onClick }\n                className=\"buttonLogin\"\n                size=\"lg\"\n              >\n                ENTRAR\n              </Button>\n            </Form.Group>\n          </Form>\n        ) : <Loading />}\n      </div>\n\n    );\n  }\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}