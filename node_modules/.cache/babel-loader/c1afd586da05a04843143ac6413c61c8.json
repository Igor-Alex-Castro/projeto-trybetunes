{"ast":null,"code":"var _jsxFileName = \"/home/igor/projetos-trybe/sd-020-b-project-trybetunes/src/pages/Login.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport Carregando from '../componentes/Carregando';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.handleChange = this.handleChange.bind(this);\n    this.btnSalvar = this.btnSalvar.bind(this);\n    this.state = {\n      // criando o estado do button\n      desabilitar: true,\n      nome: '',\n      loading: false,\n      next: false\n    };\n  }\n\n  handleChange(event) {\n    // função para habilitar o botão apenas se receber valor acima de 3\n    const minValor = 3;\n\n    if (event.target.value.length >= minValor) {\n      this.setState({\n        nome: event.target.value\n      });\n      this.setState({\n        desabilitar: false\n      }); // muda o estado do botão\n    }\n  }\n\n  async btnSalvar() {\n    const {\n      desabilitar,\n      nome\n    } = this.state;\n\n    if (desabilitar === false) {\n      // pegando o estado do handlechange\n      this.setState({\n        loading: true\n      }); // muda o estade de loading\n\n      await createUser({\n        name: nome\n      }).then(e => {\n        // name vai receber o valor do imput d handlechange\n        if (e) {\n          this.setState({\n            next: true\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    // linha 53 requisito 2 -\n    const {\n      desabilitar,\n      loading,\n      next\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [loading && /*#__PURE__*/_jsxDEV(Carregando, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), next && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"page-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Trybe Tunes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: [\"Nome\", /*#__PURE__*/_jsxDEV(\"input\", {\n              \"data-testid\": \"login-name-input\",\n              name: \"name\",\n              type: \"text\",\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            \"data-testid\": \"login-submit-button\",\n            type: \"button\",\n            onClick: this.btnSalvar,\n            disabled: desabilitar,\n            children: \"Entrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/igor/projetos-trybe/sd-020-b-project-trybetunes/src/pages/Login.js"],"names":["React","Redirect","createUser","Carregando","Login","Component","constructor","handleChange","bind","btnSalvar","state","desabilitar","nome","loading","next","event","minValor","target","value","length","setState","name","then","e","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;;;AAEA,MAAMC,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AAEA,SAAKE,KAAL,GAAa;AAAE;AACbC,MAAAA,WAAW,EAAE,IADF;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,OAAO,EAAE,KAHE;AAIXC,MAAAA,IAAI,EAAE;AAJK,KAAb;AAMD;;AAEDP,EAAAA,YAAY,CAACQ,KAAD,EAAQ;AAAE;AACpB,UAAMC,QAAQ,GAAG,CAAjB;;AACA,QAAID,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmBC,MAAnB,IAA6BH,QAAjC,EAA2C;AACzC,WAAKI,QAAL,CAAc;AAAER,QAAAA,IAAI,EAAEG,KAAK,CAACE,MAAN,CAAaC;AAArB,OAAd;AACA,WAAKE,QAAL,CAAc;AAAET,QAAAA,WAAW,EAAE;AAAf,OAAd,EAFyC,CAEH;AACvC;AACF;;AAEc,QAATF,SAAS,GAAG;AAChB,UAAM;AAAEE,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAAwB,KAAKF,KAAnC;;AACA,QAAIC,WAAW,KAAK,KAApB,EAA2B;AAAE;AAC3B,WAAKS,QAAL,CAAc;AAAEP,QAAAA,OAAO,EAAE;AAAX,OAAd,EADyB,CACQ;;AACjC,YAAMX,UAAU,CAAC;AAAEmB,QAAAA,IAAI,EAAET;AAAR,OAAD,CAAV,CAA2BU,IAA3B,CAAiCC,CAAD,IAAO;AAAE;AAC7C,YAAIA,CAAJ,EAAO;AACL,eAAKH,QAAL,CAAc;AAAEN,YAAAA,IAAI,EAAE;AAAR,WAAd;AACD;AACF,OAJK,CAAN;AAKD;AACF;;AAEDU,EAAAA,MAAM,GAAG;AAAE;AACT,UAAM;AAAEb,MAAAA,WAAF;AAAeE,MAAAA,OAAf;AAAwBC,MAAAA;AAAxB,QAAiC,KAAKJ,KAA5C;AAEA,wBAEE;AAAA,iBAEGG,OAAO,iBAAI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,cAFd,EAGGC,IAAI,iBAAI,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAHX,eAKE;AAAK,uBAAY,YAAjB;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE;AAAA,kCAEE;AAAO,YAAA,OAAO,EAAC,MAAf;AAAA,4CAEE;AACE,6BAAY,kBADd;AAEE,cAAA,IAAI,EAAC,MAFP;AAGE,cAAA,IAAI,EAAC,MAHP;AAIE,cAAA,QAAQ,EAAG,KAAKP;AAJlB;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAYE;AACE,2BAAY,qBADd;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,OAAO,EAAG,KAAKE,SAHjB;AAIE,YAAA,QAAQ,EAAGE,WAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAoCD;;AAzEiC;;AA4EpC,eAAeP,KAAf","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport Carregando from '../componentes/Carregando';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.handleChange = this.handleChange.bind(this);\n    this.btnSalvar = this.btnSalvar.bind(this);\n\n    this.state = { // criando o estado do button\n      desabilitar: true,\n      nome: '',\n      loading: false,\n      next: false,\n    };\n  }\n\n  handleChange(event) { // função para habilitar o botão apenas se receber valor acima de 3\n    const minValor = 3;\n    if (event.target.value.length >= minValor) {\n      this.setState({ nome: event.target.value });\n      this.setState({ desabilitar: false });// muda o estado do botão\n    }\n  }\n\n  async btnSalvar() {\n    const { desabilitar, nome } = this.state;\n    if (desabilitar === false) { // pegando o estado do handlechange\n      this.setState({ loading: true });// muda o estade de loading\n      await createUser({ name: nome }).then((e) => { // name vai receber o valor do imput d handlechange\n        if (e) {\n          this.setState({ next: true });\n        }\n      });\n    }\n  }\n\n  render() { // linha 53 requisito 2 -\n    const { desabilitar, loading, next } = this.state;\n\n    return (\n\n      <main>\n\n        {loading && <Carregando />}\n        {next && <Redirect to=\"/search\" />}\n\n        <div data-testid=\"page-login\">\n          <p> Trybe Tunes</p>\n\n          <form>\n\n            <label htmlFor=\"name\">\n              Nome\n              <input\n                data-testid=\"login-name-input\"\n                name=\"name\"\n                type=\"text\"\n                onChange={ this.handleChange }\n              />\n            </label>\n\n            <button\n              data-testid=\"login-submit-button\"\n              type=\"button\"\n              onClick={ this.btnSalvar }\n              disabled={ desabilitar }\n            >\n              Entrar\n            </button>\n\n          </form>\n        </div>\n      </main>\n\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}