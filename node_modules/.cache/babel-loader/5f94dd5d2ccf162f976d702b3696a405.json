{"ast":null,"code":"var _jsxFileName = \"/home/igor/projetos-trybe/sd-020-b-project-trybetunes/src/pages/search/Search.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Header from '../../components/Header';\nimport searchAlbumsAPI from '../../services/searchAlbumsAPI';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Loading from '../Loading';\nimport './Seach.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      artist: '',\n      hasDiseble: true,\n      hasLoading: false,\n      habilitInput: false,\n      name: '',\n      albumArtist: []\n    };\n    this.handleChageInput = this.handleChageInput.bind(this);\n    this.onCountClick = this.onCountClick.bind(this);\n    this.onClickButton = this.onClickButton.bind(this);\n  }\n\n  handleChageInput(_ref) {\n    let {\n      target\n    } = _ref;\n    const name = target.value;\n    this.setState({\n      artist: name\n    }, () => this.onCountClick());\n  }\n\n  onCountClick() {\n    const {\n      artist\n    } = this.state;\n\n    if (artist.length < 2) {\n      this.setState({\n        hasDiseble: true\n      });\n    } else {\n      this.setState({\n        hasDiseble: false\n      });\n    }\n  }\n\n  async onClickButton() {\n    const {\n      artist\n    } = this.state;\n    const name = artist;\n    this.setState({\n      artist: '',\n      name,\n      hasLoading: true\n    });\n    const albumList = await searchAlbumsAPI(artist);\n    this.setState({\n      hasLoading: false,\n      albumArtist: albumList\n    });\n  }\n\n  render() {\n    const {\n      hasDiseble,\n      nameArtist,\n      hasLoading,\n      habilitInput,\n      name,\n      albumArtist\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), hasLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          className: \"form-login d-grid gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3 \",\n            controlId: \"formBasicName\",\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              htmlFor: \"artistInput\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"input-control\",\n                \"data-testid\": \"search-artist-input\",\n                type: \"text\",\n                name: \"artistInput\",\n                value: nameArtist,\n                disabled: habilitInput,\n                onChange: this.handleChageInput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            \"data-testid\": \"search-artist-button\",\n            type: \"button\",\n            disabled: hasDiseble,\n            onClick: this.onClickButton,\n            size: \"lg\",\n            className: \"buttonPesquisa\",\n            children: \"Pesquisa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), albumArtist.length <= 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"warning\",\n          children: [\"Nenhum \\xE1lbum foi encontrado\", ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: `Resultado de álbuns de: ${name}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: albumArtist.map((artist, index) => /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: artist.artworkUrl100,\n                  alt: artist.artistName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: artist.collectionName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: artist.artistName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  \"data-testid\": `link-to-album-${artist.collectionId}`,\n                  to: `/album/${artist.collectionId}`,\n                  children: \"Album\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 27\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/igor/projetos-trybe/sd-020-b-project-trybetunes/src/pages/search/Search.js"],"names":["React","Link","Button","Form","Header","searchAlbumsAPI","Loading","Search","Component","constructor","state","artist","hasDiseble","hasLoading","habilitInput","name","albumArtist","handleChageInput","bind","onCountClick","onClickButton","target","value","setState","length","albumList","render","nameArtist","map","index","artworkUrl100","artistName","collectionName","collectionId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Header from '../../components/Header';\nimport searchAlbumsAPI from '../../services/searchAlbumsAPI';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Loading from '../Loading';\nimport './Seach.css';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      artist: '',\n      hasDiseble: true,\n      hasLoading: false,\n      habilitInput: false,\n      name: '',\n      albumArtist: [],\n    };\n    this.handleChageInput = this.handleChageInput.bind(this);\n    this.onCountClick = this.onCountClick.bind(this);\n    this.onClickButton = this.onClickButton.bind(this);\n  }\n\n  handleChageInput({ target }) {\n    const name = target.value;\n\n    this.setState({\n      artist: name,\n    }, () => this.onCountClick());\n  }\n\n  onCountClick() {\n    const { artist } = this.state;\n    if (artist.length < 2) {\n      this.setState({ hasDiseble: true });\n    } else {\n      this.setState({ hasDiseble: false });\n    }\n  }\n\n  async onClickButton() {\n    const { artist } = this.state;\n    const name = artist;\n    this.setState({ artist: '', name, hasLoading: true });\n    const albumList = await searchAlbumsAPI(artist);\n    this.setState({ hasLoading: false, albumArtist: albumList });\n  }\n\n  render() {\n    const { hasDiseble,\n      nameArtist, hasLoading, habilitInput,\n      name, albumArtist } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n\n        <Header />\n\n        <h1>search</h1>\n        {hasLoading ? <Loading />\n          : (\n            <div>\n              <Form className=\"form-login d-grid gap-2\">\n                <Form.Group className=\"mb-3 \" controlId=\"formBasicName\">\n                  <Form.Label htmlFor=\"artistInput\">\n                    <Form.Control\n                      className=\"input-control\"\n                      data-testid=\"search-artist-input\"\n                      type=\"text\"\n                      name=\"artistInput\"\n                      value={ nameArtist }\n                      disabled={ habilitInput }\n                      onChange={ this.handleChageInput }\n                    />\n                  </Form.Label>\n                </Form.Group>\n                <Button\n                  data-testid=\"search-artist-button\"\n                  type=\"button\"\n                  disabled={ hasDiseble }\n                  onClick={ this.onClickButton }\n                  size=\"lg\"\n                  className=\"buttonPesquisa\"\n                >\n                  Pesquisa\n                </Button>\n              </Form>\n              {albumArtist.length <= 0\n                ? (\n                  <span\n                    className=\"warning\"\n                  >\n                    Nenhum álbum foi encontrado\n                    {' '}\n                  </span>\n                )\n                : (\n                  <>\n                    <h1>\n                      {`Resultado de álbuns de: ${name}`}\n                    </h1>\n                    <div>\n\n                      {albumArtist.map((artist, index) => (\n                        <ul key={ index }>\n                          <li>\n                            <img\n                              src={ artist.artworkUrl100 }\n                              alt={ artist.artistName }\n                            />\n                          </li>\n                          <li>{artist.collectionName}</li>\n                          <li>{artist.artistName}</li>\n                          <li>\n                            <Link\n                              data-testid={ `link-to-album-${artist.collectionId}` }\n                              to={ `/album/${artist.collectionId}` }\n                            >\n                              Album\n                            </Link>\n\n                          </li>\n                        </ul>))}\n                    </div>\n\n                  </>)}\n            </div>)}\n      </div>);\n  }\n}\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}